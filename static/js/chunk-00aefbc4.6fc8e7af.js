(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00aefbc4"],{"09ab":function(e,t,a){"use strict";a("c2ec")},"4c97":function(e,t,a){"use strict";a("8ca8")},"6fdf":function(e,t,a){},"8ca8":function(e,t,a){},"9e16":function(e,t,a){"use strict";a("6fdf")},a574:function(e,t,a){"use strict";a("c69d")},c0a2:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));var s=a("b775");function r(e){return Object(s["a"])({url:"/vm-service/skuClass/search",method:"GET",params:e})}function i(e){return Object(s["a"])({url:"/vm-service/skuClass/"+e,method:"DELETE"})}function n(e,t){return Object(s["a"])({url:"/vm-service/skuClass/"+e,method:"PUT",data:{className:t}})}function o(e){return Object(s["a"])({url:"/vm-service/skuClass",method:"POST",data:{className:e}})}},c2ec:function(e,t,a){},c69d:function(e,t,a){},e4ae:function(e,t,a){"use strict";a("ea4f")},ea4f:function(e,t,a){},ede9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"商品搜索:"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:e.formInline.skuName,callback:function(t){e.$set(e.formInline,"skuName",t)},expression:"formInline.skuName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.SearchClass}},[e._v("查询")])],1)],1)],1),a("div",{staticClass:"result"},[a("div",{staticClass:"operation"},[a("el-button",{staticClass:"button",attrs:{icon:"el-icon-circle-plus-outline"},on:{click:e.showAdd}},[e._v(" 新建")]),a("el-button",{staticClass:"secondary",on:{click:e.Upload}},[e._v("导入数据")])],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.regionList,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"skuName",label:"商品名称",width:"200"}}),a("el-table-column",{attrs:{label:"商品图片",width:"170"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"24px",height:"24px"},attrs:{src:e.row.skuImage}})]}}])}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌",width:"220"}}),a("el-table-column",{attrs:{prop:"unit",label:"规格",width:"220"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格",width:"220",formatter:e.Price}}),a("el-table-column",{attrs:{prop:"skuClass.className",label:"商品类型",width:"150"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建日期",width:"210",formatter:e.Time}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-button--text",attrs:{type:"primary"},on:{click:function(a){return e.editData(t.row)}}},[e._v("修改")])]}}])})],1)],a("Dialogsku",{ref:"AddDialogsku",attrs:{visiable:e.dialogVisible,visiabledia:e.logVisible,goodsList:e.goodsList},on:{"update:visiable":function(t){e.dialogVisible=t},"update:visiabledia":function(t){e.logVisible=t},addSuccess:e.getGoodsDetail}}),e.nodeData.totalCount?a("Pagination",{attrs:{listIsShow:this.lastDisabled&&this.rightDisabled,taskList:e.nodeData,lastDisabled:e.lastDisabled,rightDisabled:e.rightDisabled},on:{lastPage:e.getLastTaskService,nextPage:e.getNextTaskService}}):e._e(),a("Upload",{attrs:{visiableUp:e.showUpdate},on:{"update:visiableUp":function(t){e.showUpdate=t},"update:visiable-up":function(t){e.showUpdate=t}}})],2)])},r=[],i=a("f07e"),n=a("c964"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"数据导入",visible:e.visiableUp,width:"483px"},on:{close:e.onClose}},[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"标题：",width:"120px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":e.beforeAvatarUpload,multiple:"",limit:3,name:"fileName"}},[a("el-button",{staticClass:"upload",attrs:{type:"primary"}},[a("i",{staticClass:"el-icon-upload"}),e._v("上传文件")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 支持扩展名:xls、xlsx,文件不得大于1M ")])],1)],1)],1),a("center",[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancel",on:{click:e.onClose}},[e._v("取 消")]),a("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)])],1)},l=[],c=a("b775");function u(e){return Object(c["a"])({url:"/vm-service/sku/search",method:"GET",params:e})}function d(e){return Object(c["a"])({url:"/vm-service/sku",method:"POST",data:e})}function m(e,t){return Object(c["a"])({url:"/vm-service/sku/"+e,method:"PUT",data:t})}function p(e){return Object(c["a"])({url:"/vm-service/sku/upload",method:"POST",fileName:e})}var f={data:function(){return{formData:{},fileName:{}}},props:{visiableUp:{type:Boolean,required:!0}},created:function(){},methods:{beforeAvatarUpload:function(e){console.log(e),this.fileName=e;var t="xls/xlsx"===e.type,a=e.size/1024/1024<1;return t||this.$message.error("上传头像图片只能是 xls 格式!"),a||this.$message.error("上传头像图片大小不能超过 1MB!"),t&&a},onClose:function(){this.$emit("update:visiableUp",!1)},onSave:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p(e.fileName);case 2:case"end":return t.stop()}}),t)})))()}}},b=f,h=(a("e4ae"),a("0c7c")),g=Object(h["a"])(b,o,l,!1,null,"61c40d46",null),v=g.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visiable,width:"630px"},on:{close:e.onClose}},[a("el-form",{ref:"form",attrs:{model:e.formData,"label-width":"120px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"商品名称:",prop:"skuName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"15","show-word-limit":""},model:{value:e.formData.skuName,callback:function(t){e.$set(e.formData,"skuName",t)},expression:"formData.skuName"}})],1),a("el-form-item",{attrs:{label:"品牌:",prop:"brandName"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.formData.brandName,callback:function(t){e.$set(e.formData,"brandName",t)},expression:"formData.brandName"}})],1),a("el-form-item",{attrs:{label:"商品价格(元):",prop:"price"}},[a("el-input-number",{attrs:{"controls-position":"right",placeholder:"请输入",min:0,max:1e4},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"商品类型:",prop:"classId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.classId,callback:function(t){e.$set(e.formData,"classId",t)},expression:"formData.classId"}},e._l(e.goodsList,(function(e){return a("el-option",{key:e.classId,attrs:{label:e.className,value:e.classId}})})),1)],1),a("el-form-item",{attrs:{label:"规格:",prop:"unit"}},[a("el-input",{attrs:{placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.formData.unit,callback:function(t){e.$set(e.formData,"unit",t)},expression:"formData.unit"}})],1),a("el-form-item",{attrs:{label:"商品图片:",prop:"skuImage"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,action:"https://jsonplaceholder.typicode.com/posts/",multiple:"",name:"fileName"}},[e.formData.skuImage?a("img",{attrs:{src:e.formData.skuImage}}):e._e(),a("i",{staticClass:"el-icon-upload"})]),a("div",{staticClass:"el-upload__text"},[e._v("支持扩展名:jpg、png,文件不得大于100kb")])],1)],1),a("center",[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancel",on:{click:e.onClose}},[e._v("取 消")]),a("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)])],1)},w=[],x=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),{data:function(){return{formData:{skuName:"",brandName:"",price:"",classId:"",unit:"",skuImage:""},id:"",formRules:{skuName:[{required:!0,message:"商品名称不能为空",trigger:"blur"}],brandName:[{required:!0,message:"品牌不能为空",trigger:"blur"}],classId:[{required:!0,message:"商品类型不能为空",trigger:"change"}],unit:[{required:!0,message:"规格不能为空",trigger:"blur"}],skuImage:[{required:!0,message:"商品图片不能为空"}]}}},props:{visiable:{type:Boolean,required:!0},visiabledia:{type:Boolean,required:!0},goodsList:{type:Array}},created:function(){},computed:{dialogTitle:function(){return this.visiabledia?"修改商品":"新增商品"}},methods:{handleAvatarSuccess:function(e,t){this.formData.skuImage=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},onClose:function(){this.$emit("update:visiable",!1),this.$refs.form.resetFields(),this.formData={skuName:"",brandName:"",price:"",classId:"",unit:"",skuImage:""}},onSave:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(!e.visiabledia){t.next=10;break}return t.next=5,m(e.id,e.formData);case 5:e.$message.success("修改商品成功"),e.onClose(),e.$emit("addSuccess"),t.next=15;break;case 10:return t.next=12,d(e.formData);case 12:e.$message.success("新增商品成功"),e.onClose(),e.$emit("addSuccess");case 15:case"end":return t.stop()}}),t)})))()},getGoodsType:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function a(){return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.formData=e,t.id=e.skuId;case 2:case"end":return a.stop()}}),a)})))()}}}),D=x,y=(a("4c97"),Object(h["a"])(D,k,w,!1,null,"60154942",null)),j=y.exports,O=a("c0a2"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.listIsShow?e._e():a("div",{staticClass:"total"},[a("span",[e._v("共"+e._s(e.taskList.totalCount)+"条数据 第"+e._s(e.taskList.pageIndex)+"/ "+e._s(Math.ceil(e.taskList.totalCount/10))+"页")]),a("div",{staticClass:"page-button"},[a("MyButton",{attrs:{btnStyle:e.pageBtnStyle,disabled:e.lastDisabled},on:{click:e.lastPage}},[e._v("上一页 ")]),a("MyButton",{attrs:{btnStyle:e.pageBtnStyle,disabled:e.rightDisabled},on:{click:e.nextPage}},[e._v("下一页 ")])],1)])},_=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mybutton"},[a("el-button",{class:{disabled:e.disabled},style:e.btnStyle,attrs:{disabled:e.disabled,type:"primary",icon:e.icon},on:{click:e.clickFn}},[e._t("lastIcon"),e._t("default")],2)],1)},S=[],N={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},$=N,P=(a("9e16"),Object(h["a"])($,I,S,!1,null,"b6c8d474",null)),L=P.exports,U={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:L}},T=U,B=(a("09ab"),Object(h["a"])(T,C,_,!1,null,"8292064e",null)),A=B.exports,M=a("5a0c"),E=a.n(M),G={data:function(){return{formInline:{pageIndex:1,pageSize:10,skuName:""},regionList:[],dialogVisible:!1,logVisible:!1,showUpdate:!1,nodeData:{},params:{pageIndex:1,pageSize:10},goodsList:[]}},components:{Dialogsku:j,Pagination:A,Upload:v},created:function(){this.getGoodsDetail()},computed:{lastDisabled:function(){return this.nodeData.pageIndex<=1},rightDisabled:function(){return this.nodeData.pageIndex==Math.ceil(this.nodeData.totalCount/10)}},methods:{getGoodsDetail:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u(e.params);case 2:a=t.sent,console.log(a),e.regionList=a.data.currentPageRecords,e.nodeData=a.data;case 6:case"end":return t.stop()}}),t)})))()},getNextTaskService:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.params.pageIndex++,e.getGoodsDetail();case 2:case"end":return t.stop()}}),t)})))()},getLastTaskService:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.params.pageIndex--,e.getGoodsDetail();case 2:case"end":return t.stop()}}),t)})))()},showAdd:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogVisible=!0,e.logVisible=!1,t.next=4,Object(O["d"])();case 4:a=t.sent,e.goodsList=a.data.currentPageRecords;case 6:case"end":return t.stop()}}),t)})))()},editData:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var s;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogVisible=!0,console.log(e),t.logVisible=!0,t.$refs.AddDialogsku.getGoodsType(e),a.next=6,Object(O["d"])();case 6:s=a.sent,t.goodsList=s.data.currentPageRecords;case 8:case"end":return a.stop()}}),a)})))()},SearchClass:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u(e.formInline);case 2:a=t.sent,e.regionList=a.data.currentPageRecords;case 4:case"end":return t.stop()}}),t)})))()},Time:function(e,t,a){return E()(a).format("YYYY-MM-DD HH:mm:ss")},Price:function(e,t,a){return a/100},Upload:function(){this.showUpdate=!0}}},V=G,q=(a("a574"),Object(h["a"])(V,s,r,!1,null,"9dcf2e22",null));t["default"]=q.exports}}]);